# ============================================
# bmad 研学商城小程序 - 环境变量配置示例
# ============================================
# 复制此文件为 .env 并填入实际配置值

# ============================================
# 数据库配置
# ============================================
# PostgreSQL 数据库连接字符串
# 格式: postgresql://用户名:密码@主机:端口/数据库名?schema=public
DATABASE_URL="postgresql://username@localhost:5432/bmad?schema=public"

# ============================================
# Redis 配置
# ============================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""

# ============================================
# JWT 认证配置
# ============================================
# JWT 密钥 (至少32字符，生产环境请使用随机字符串)
JWT_SECRET="change_this_to_a_secure_random_string_at_least_32_chars"
# 访问令牌过期时间 (默认15分钟)
JWT_ACCESS_TOKEN_EXPIRATION="15m"
# 刷新令牌过期时间 (默认7天)
JWT_REFRESH_TOKEN_EXPIRATION="7d"

# ============================================
# 微信小程序配置
# ============================================
# 小程序 AppID (从微信公众平台获取)
WECHAT_APP_ID="your_wechat_app_id"
# 小程序 AppSecret (从微信公众平台获取)
WECHAT_APP_SECRET="your_wechat_app_secret"

# ============================================
# 微信支付配置
# ============================================
# 微信支付商户号
WECHAT_PAY_MCHID="your_merchant_id"
# 微信支付 API v3 密钥
WECHAT_PAY_APIV3_KEY="your_apiv3_key"
# 商户证书序列号
WECHAT_PAY_SERIAL_NO="your_serial_no"
# 商户私钥路径
WECHAT_PAY_PRIVATE_KEY_PATH="./certs/private_key.pem"
# 支付结果回调地址 (需替换为实际域名)
WECHAT_PAY_NOTIFY_URL="https://your-domain.com/api/v1/orders/payment/notify"
# 退款结果回调地址 (需替换为实际域名)
WECHAT_REFUND_NOTIFY_URL="https://your-domain.com/api/v1/refunds/payment/notify"

# ============================================
# 阿里云 OSS 配置 (可选)
# ============================================
# OSS 地域节点
OSS_REGION="oss-cn-hangzhou"
# Access Key ID (从阿里云控制台获取)
OSS_ACCESS_KEY_ID=""
# Access Key Secret (从阿里云控制台获取)
OSS_ACCESS_KEY_SECRET=""
# 存储桶名称
OSS_BUCKET="bmad-storage"
# CDN 加速域名 (可选)
OSS_CDN_DOMAIN=""

# ============================================
# 应用配置
# ============================================
# 应用端口
PORT=3000
# 应用环境 (development | production)
NODE_ENV="development"
# API 版本前缀
API_PREFIX="/api/v1"

# ============================================
# 日志配置
# ============================================
# 日志级别 (debug | info | warn | error)
LOG_LEVEL="info"

# ============================================
# 限流配置
# ============================================
# 限流窗口时间 (秒)
THROTTLE_TTL=60
# 限流请求数量
THROTTLE_LIMIT=100
